<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QuimPath v2.0 ‚Äî Ingenier√≠a Qu√≠mica</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Syne:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
:root{--bg:#0d1117;--sf:#161b22;--sf2:#1c2128;--bd:#30363d;--tx:#e6edf3;--tm:#7d8590;--ac:#2a9d8f;--a2:#4ea8de;--a3:#e05252;--a4:#c77dff;--gn:#3fb950;--sw:260px}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Syne',sans-serif;background:var(--bg);color:var(--tx);min-height:100vh;overflow-x:hidden}
#app{display:flex;min-height:100vh}
#sb{width:var(--sw);background:var(--sf);border-right:1px solid var(--bd);display:flex;flex-direction:column;position:fixed;top:0;left:0;bottom:0;z-index:100;overflow-y:auto;transition:transform .3s}
#mn{margin-left:var(--sw);flex:1;display:flex;flex-direction:column;min-height:100vh}
.sl{padding:18px 18px 14px;border-bottom:1px solid var(--bd)}
.sl h1{font-size:1.45rem;font-weight:800;background:linear-gradient(135deg,var(--ac),var(--a2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.sl p{font-size:.65rem;color:var(--tm);font-family:'Space Mono',monospace;margin-top:2px}
.cb{margin:12px;background:var(--sf2);border:1px solid var(--bd);border-radius:10px;padding:12px}
.cb .lb{font-size:.6rem;color:var(--tm);text-transform:uppercase;letter-spacing:1px;font-family:'Space Mono',monospace}
.cm{display:flex;align-items:baseline;gap:4px;margin:4px 0}
.cm .nm{font-size:1.9rem;font-weight:800;color:var(--ac);line-height:1}
.cm .tt{font-size:.75rem;color:var(--tm);font-family:'Space Mono',monospace}
.pb{background:var(--bd);border-radius:100px;height:5px;overflow:hidden;margin-top:6px}
.pbi{height:100%;border-radius:100px;background:linear-gradient(90deg,var(--ac),var(--a2));transition:width .6s cubic-bezier(.4,0,.2,1);width:0%}
.cd{display:grid;grid-template-columns:1fr 1fr;gap:5px;margin-top:8px}
.cs{background:var(--bg);border-radius:6px;padding:5px 7px;font-size:.6rem;color:var(--tm);font-family:'Space Mono',monospace}
.cs span{display:block;font-size:.95rem;font-weight:700;color:var(--tx);font-family:'Syne',sans-serif}
.sn{padding:8px 10px;flex:1}
.nl{font-size:.58rem;color:var(--tm);text-transform:uppercase;letter-spacing:1.5px;font-family:'Space Mono',monospace;padding:6px 6px 3px}
.nb{display:flex;align-items:center;gap:8px;padding:8px 10px;border-radius:7px;border:none;background:transparent;color:var(--tm);font-family:'Syne',sans-serif;font-size:.82rem;font-weight:600;cursor:pointer;width:100%;text-align:left;transition:all .15s}
.nb:hover{background:var(--sf2);color:var(--tx)}.nb.on{background:var(--sf2);color:var(--ac)}
.nb .ic{font-size:.95rem;width:18px;text-align:center}
.fs{padding:6px 10px;border-top:1px solid var(--bd)}
.fc{display:flex;flex-wrap:wrap;gap:4px;margin-top:6px}
.ch{padding:2px 9px;border-radius:100px;border:1px solid var(--bd);background:transparent;color:var(--tm);font-family:'Space Mono',monospace;font-size:.58rem;cursor:pointer;transition:all .15s}
.ch:hover{border-color:var(--ac);color:var(--ac)}.ch.on{border-color:var(--ac);background:color-mix(in srgb,var(--ac) 15%,transparent);color:var(--ac)}
.ch[data-s="cursando"].on{border-color:var(--a3);background:color-mix(in srgb,var(--a3) 15%,transparent);color:var(--a3)}
.ch[data-s="aprobada"].on{border-color:var(--a2);background:color-mix(in srgb,var(--a2) 15%,transparent);color:var(--a2)}
.ch[data-s="bloqueada"].on{border-color:#7d8590;background:rgba(125,133,144,.15);color:#7d8590}
.ch[data-s="habilitada"].on{border-color:#5d7290;background:rgba(93,114,144,.15);color:#9ea7b5}
.sbot{padding:10px;border-top:1px solid var(--bd)}
.rbtn{width:100%;padding:8px;border-radius:7px;border:1px solid #3d1f1f;background:transparent;color:var(--a3);font-family:'Syne',sans-serif;font-size:.78rem;font-weight:600;cursor:pointer;transition:all .15s}
.rbtn:hover{background:#2a1515}
#tb{position:sticky;top:0;z-index:50;height:52px;background:color-mix(in srgb,var(--bg) 80%,transparent);backdrop-filter:blur(12px);border-bottom:1px solid var(--bd);display:flex;align-items:center;padding:0 20px;gap:14px}
#sw{flex:1;position:relative}
#sw svg{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:var(--tm);width:15px;height:15px}
#sq{width:100%;background:var(--sf2);border:1px solid var(--bd);border-radius:7px;padding:7px 10px 7px 32px;color:var(--tx);font-family:'Space Mono',monospace;font-size:.75rem;outline:none;transition:border-color .15s}
#sq:focus{border-color:var(--ac)}#sq::placeholder{color:var(--tm)}
.bg{display:none;background:none;border:none;color:var(--tx);cursor:pointer;padding:4px}
#ct{padding:20px;flex:1}
.tp{display:none}.tp.on{display:block}
.ab{display:grid;grid-template-columns:repeat(auto-fill,minmax(170px,1fr));gap:8px;margin-bottom:20px;padding:14px;background:var(--sf);border:1px solid var(--bd);border-radius:10px}
.abh{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}
.abn{font-size:.65rem;font-weight:700;letter-spacing:.5px}
.abc{font-family:'Space Mono',monospace;font-size:.6rem;color:var(--tm)}
.abt{background:var(--bd);border-radius:100px;height:4px;overflow:hidden}
.abf{height:100%;border-radius:100px;transition:width .6s cubic-bezier(.4,0,.2,1)}
.st{font-size:.65rem;text-transform:uppercase;letter-spacing:2px;color:var(--tm);font-family:'Space Mono',monospace;margin:20px 0 10px;padding-bottom:6px;border-bottom:1px solid var(--bd)}
.st:first-child{margin-top:0}
.gd{display:grid;grid-template-columns:repeat(auto-fill,minmax(190px,1fr));gap:8px}
.card{border-radius:9px;border:1px solid var(--bd);padding:12px;cursor:pointer;transition:all .2s cubic-bezier(.4,0,.2,1);user-select:none}
.card:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,.4)}.card:active{transform:translateY(0)}
.card[data-st="bloqueada"]{background:#1a1f27}
.card[data-st="habilitada"]{background:#19253a;border-color:#2d3d55}
.card[data-st="cursando"]{background:#241010;border-color:#4a2020}
.card[data-st="aprobada"]{background:#0c1a2b;border-color:#143450}
.card[data-st="exonerada"]{background:#091d1b;border-color:#123835}
.card[data-st="habilitada"]:hover{border-color:var(--a2);box-shadow:0 6px 20px color-mix(in srgb,var(--a2) 15%,transparent)}
.ci{font-size:1rem;margin-bottom:6px;display:block;line-height:1}
.cn{font-size:.77rem;font-weight:700;line-height:1.3;margin-bottom:7px}
.card[data-st="bloqueada"] .cn{color:#6e7681}.card[data-st="habilitada"] .cn{color:#9ea7b5}
.card[data-st="cursando"] .cn{color:var(--a3)}.card[data-st="aprobada"] .cn{color:var(--a2)}.card[data-st="exonerada"] .cn{color:var(--ac)}
.cm2{display:flex;justify-content:space-between;align-items:center}
.cc{font-family:'Space Mono',monospace;font-size:.6rem;color:var(--tm)}
.cbg{font-size:.56rem;font-weight:700;padding:2px 6px;border-radius:100px;font-family:'Space Mono',monospace;text-transform:uppercase}
.card[data-st="bloqueada"] .cbg{background:#22272f;color:#6e7681}.card[data-st="habilitada"] .cbg{background:#18263a;color:#9ea7b5}
.card[data-st="cursando"] .cbg{background:#1e0d0d;color:var(--a3)}.card[data-st="aprobada"] .cbg{background:#08131f;color:var(--a2)}.card[data-st="exonerada"] .cbg{background:#061211;color:var(--ac)}
.cf{font-size:.55rem;font-family:'Space Mono',monospace;color:var(--tm);margin-top:3px}
.card.hd{display:none}
.pp{display:none;position:fixed;z-index:500;background:var(--sf2);border:1px solid var(--bd);border-radius:9px;padding:10px 14px;min-width:210px;max-width:290px;box-shadow:0 12px 40px rgba(0,0,0,.6);pointer-events:none}
.pp.v{display:block}.pp h3{font-size:.7rem;font-weight:700;margin-bottom:7px;color:var(--tx)}
.pi{display:flex;justify-content:space-between;align-items:center;padding:3px 0;border-bottom:1px solid var(--bd);font-size:.65rem}
.pi:last-child{border-bottom:none}.pi .pn{color:var(--tm)}
.pi .pr{font-family:'Space Mono',monospace;font-size:.56rem;padding:1px 5px;border-radius:3px}
.pi .pr.ap{background:#0c1a2b;color:var(--a2)}.pi .pr.ex{background:#091d1b;color:var(--ac)}.pi .pr.ok{color:var(--gn);font-weight:700}
#tc{position:fixed;bottom:20px;right:20px;z-index:1000;display:flex;flex-direction:column-reverse;gap:7px}
.toast{background:var(--sf2);border:1px solid var(--bd);border-radius:9px;padding:11px 14px;font-size:.78rem;font-weight:600;max-width:270px;animation:si .3s cubic-bezier(.4,0,.2,1);box-shadow:0 6px 20px rgba(0,0,0,.4);border-left:3px solid var(--ac)}
.toast.cursando{border-left-color:var(--a3)}.toast.aprobada{border-left-color:var(--a2)}
@keyframes si{from{opacity:0;transform:translateX(18px)}to{opacity:1;transform:translateX(0)}}
.ov{display:none;position:fixed;inset:0;background:rgba(0,0,0,.75);z-index:200;align-items:center;justify-content:center;backdrop-filter:blur(4px)}
.ov.op{display:flex}
.md{background:var(--sf);border:1px solid var(--bd);border-radius:12px;padding:22px;max-width:420px;width:90%;box-shadow:0 20px 60px rgba(0,0,0,.6)}
.md h2{font-size:1rem;margin-bottom:7px}.md p{color:var(--tm);font-size:.82rem;margin-bottom:18px}
.ma{display:flex;gap:8px;justify-content:flex-end}
.bsc{padding:7px 18px;border-radius:7px;border:1px solid var(--bd);background:transparent;color:var(--tm);font-family:'Syne',sans-serif;font-weight:600;font-size:.82rem;cursor:pointer;transition:all .15s}
.bsc:hover{border-color:var(--tm);color:var(--tx)}
.bdn{padding:7px 18px;border-radius:7px;border:none;background:var(--a3);color:#fff;font-family:'Syne',sans-serif;font-weight:700;font-size:.82rem;cursor:pointer;transition:all .15s}
.bdn:hover{background:#c04040}
.bpr{padding:7px 22px;border-radius:7px;border:none;background:linear-gradient(135deg,var(--ac),var(--a2));color:#fff;font-family:'Syne',sans-serif;font-weight:700;font-size:.82rem;cursor:pointer;transition:all .15s}
.bpr:hover{transform:scale(1.03)}
.rg{display:flex;flex-direction:column;gap:7px;margin-bottom:18px}
.ro{display:flex;align-items:center;gap:9px;padding:9px 12px;border-radius:7px;border:1px solid var(--bd);cursor:pointer;transition:all .15s}
.ro:hover{border-color:var(--ac)}.ro input{accent-color:var(--ac)}
.ro .rl{font-size:.82rem;font-weight:600}.ro .rc{font-size:.67rem;color:var(--tm);font-family:'Space Mono',monospace}
#tk{background:var(--sf);border-top:1px solid var(--bd);padding:7px 20px;font-size:.65rem;font-family:'Space Mono',monospace;color:var(--tm);overflow:hidden;white-space:nowrap}
#tk span{animation:tick 55s linear infinite;display:inline-block}
@keyframes tick{from{transform:translateX(100vw)}to{transform:translateX(-100%)}}
#cel{display:none;position:fixed;inset:0;z-index:999;background:rgba(0,0,0,.85);align-items:center;justify-content:center;backdrop-filter:blur(8px)}
#cel.on{display:flex}
.celi{text-align:center;animation:pop .5s cubic-bezier(.34,1.56,.64,1)}
@keyframes pop{from{opacity:0;transform:scale(.7)}to{opacity:1;transform:scale(1)}}
.celi h1{font-size:2.6rem;font-weight:800;background:linear-gradient(135deg,var(--ac),var(--a2),var(--a4));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:10px}
.celi p{color:var(--tm);font-size:.95rem;margin-bottom:22px}
#sbov{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:99}
@media(max-width:768px){#sb{transform:translateX(-100%)}#sb.op{transform:translateX(0)}#sbov.op{display:block}#mn{margin-left:0}.bg{display:flex}#ct{padding:14px}.ab{grid-template-columns:1fr 1fr}.gd{grid-template-columns:repeat(auto-fill,minmax(155px,1fr))}}
@media(max-width:400px){.gd{grid-template-columns:1fr}.ab{grid-template-columns:1fr}}
</style>
</head>
<body>
<div id="sbov"></div>
<div id="app">
<aside id="sb">
  <div class="sl"><h1>‚öóÔ∏è QuimPath</h1><p>Ing. Qu√≠mica ¬∑ v2.0 Web</p></div>
  <div class="cb">
    <div class="lb">Cr√©ditos obtenidos</div>
    <div class="cm"><span class="nm" id="cn">0</span><span class="tt">/ 450</span></div>
    <div class="pb"><div class="pbi" id="pbi"></div></div>
    <div class="cd">
      <div class="cs"><span id="se">0</span>Exoneradas</div>
      <div class="cs"><span id="sa">0</span>Aprobadas</div>
      <div class="cs"><span id="sc">0</span>Cursando</div>
      <div class="cs"><span id="sh">0</span>Disponibles</div>
    </div>
  </div>
  <nav class="sn">
    <div class="nl">Vistas</div>
    <button class="nb on" data-tab="todas" onclick="switchTab('todas')"><span class="ic">üóÇÔ∏è</span>Todas</button>
    <button class="nb" data-tab="princ" onclick="switchTab('princ')"><span class="ic">üìö</span>Obligatorias</button>
    <button class="nb" data-tab="opt1" onclick="switchTab('opt1')"><span class="ic">üß©</span>Optativas S1</button>
    <button class="nb" data-tab="opt2" onclick="switchTab('opt2')"><span class="ic">üß©</span>Optativas S2</button>
  </nav>
  <div class="fs">
    <div class="nl">Filtrar estado</div>
    <div class="fc">
      <button class="ch" data-s="bloqueada" onclick="toggleF('bloqueada')">üîí Bloqueada</button>
      <button class="ch" data-s="habilitada" onclick="toggleF('habilitada')">üîì Habilitada</button>
      <button class="ch" data-s="cursando" onclick="toggleF('cursando')">üìñ Cursando</button>
      <button class="ch" data-s="aprobada" onclick="toggleF('aprobada')">‚úÖ Aprobada</button>
      <button class="ch" data-s="exonerada" onclick="toggleF('exonerada')">üèÜ Exonerada</button>
    </div>
  </div>
  <div class="sbot"><button class="rbtn" onclick="openReset()">üóëÔ∏è Reiniciar progreso</button></div>
</aside>
<div id="mn">
  <div id="tb">
    <button class="bg" onclick="toggleSB()">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
    </button>
    <div id="sw"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg><input type="text" id="sq" placeholder="Buscar materia..." oninput="applyS()"></div>
  </div>
  <div id="ct">
    <div class="tp on" id="tp-todas">
      <div class="ab" id="ab-todas"></div>
      <div class="st">Obligatorias</div><div class="gd" id="g-to"></div>
      <div class="st">Optativas Semestre 1</div><div class="gd" id="g-t1"></div>
      <div class="st">Optativas Semestre 2</div><div class="gd" id="g-t2"></div>
    </div>
    <div class="tp" id="tp-princ"><div class="ab" id="ab-princ"></div><div class="gd" id="g-pr"></div></div>
    <div class="tp" id="tp-opt1"><div class="gd" id="g-o1"></div></div>
    <div class="tp" id="tp-opt2"><div class="gd" id="g-o2"></div></div>
  </div>
  <div id="tk"><span id="tkt"></span></div>
</div>
</div>
<div class="pp" id="pp"></div>
<div id="tc"></div>
<div class="ov" id="ov-r"><div class="md"><h2>‚ö†Ô∏è Reiniciar progreso</h2><p>¬øEst√°s seguro? Se borrar√° todo tu progreso. Esta acci√≥n no se puede deshacer.</p><div class="ma"><button class="bsc" onclick="closeReset()">Cancelar</button><button class="bdn" onclick="doReset()">Reiniciar</button></div></div></div>
<div class="ov" id="ov-b"><div class="md"><h2>üß¨ Eleg√≠ una opci√≥n</h2><p>Esta materia tiene dos orientaciones. Seleccion√° cu√°l curs√°s:</p><div class="rg"><label class="ro"><input type="radio" name="bio" value="bio"><div><div class="rl">Ing. Bioqu√≠mica</div><div class="rc">10 cr√©ditos</div></div></label><label class="ro"><input type="radio" name="bio" value="trat"><div><div class="rl">Trat. Efluentes y Res. S√≥l.</div><div class="rc">9 cr√©ditos</div></div></label></div><div class="ma"><button class="bsc" onclick="closeBio()">Cancelar</button><button class="bpr" onclick="confirmBio()">Confirmar</button></div></div></div>
<div id="cel"><div class="celi"><div style="font-size:3.2rem;margin-bottom:14px">üéì</div><h1>¬°450 CR√âDITOS!</h1><p>¬°Sos Ingeniero/a Qu√≠mico/a! üèÜ<br>¬°Lo lograste, campe√≥n/a!</p><button class="bpr" onclick="document.getElementById('cel').classList.remove('on')" style="margin-top:6px">¬°Vamos! üöÄ</button></div></div>
<script>
const S={B:0,H:1,C:2,A:3,E:4};
const SN=['bloqueada','habilitada','cursando','aprobada','exonerada'];
const SI=['üîí','üîì','üìñ','‚úÖ','üèÜ'];
const SL=['Bloqueada','Habilitada','Cursando','Aprobada','Exonerada'];
const A=S.A,E=S.E,META=450;
const OB=[
  {id:'MAT01',name:'Matem√°tica 01',cr:14,fac:'FQ'},
  {id:'MAT03',name:'Matem√°tica 03',cr:7,fac:'FQ'},
  {id:'QUIGEN1',name:'Qu√≠mica General 1',cr:7,fac:'FQ'},
  {id:'PRERIELAB',name:'Prevenci√≥n de riesgos en el lab.',cr:4,fac:'FQ'},
  {id:'MAT04',name:'Matem√°tica 04',cr:17,fac:'FQ'},
  {id:'FIS101',name:'F√≠sica 101',cr:7,fac:'FQ'},
  {id:'QUIGEN2',name:'Qu√≠mica General 2',cr:8,fac:'FQ'},
  {id:'INTINGQUI',name:'Introducci√≥n a la Ing. Qu√≠mica',cr:2,fac:'FING/IIQ'},
  {id:'MAT05',name:'Matem√°tica 05',cr:11,fac:'FQ'},
  {id:'MAT06',name:'Matem√°tica 06',cr:7,fac:'FQ'},
  {id:'FIS102',name:'F√≠sica 102',cr:7,fac:'FQ'},
  {id:'QUIORGT101',name:'Qu√≠mica Org√°nica 101',cr:11,fac:'FQ'},
  {id:'QUIANA1',name:'Qu√≠mica Anal√≠tica 1',cr:10,fac:'FQ'},
  {id:'MAT07',name:'Matem√°tica 07',cr:8,fac:'FQ'},
  {id:'MAT08',name:'Matem√°tica 08',cr:4,fac:'FQ'},
  {id:'FIS103LAB',name:'F√≠sica 103 (Lab)',cr:8,fac:'FQ'},
  {id:'FISQUI101',name:'Fisicoqu√≠mica 101',cr:13,fac:'FQ'},
  {id:'QUIANA2',name:'Qu√≠mica Anal√≠tica 2',cr:10,fac:'FQ'},
  {id:'QUIORG102I',name:'Qu√≠mica Org√°nica 102',cr:5,fac:'FQ'},
  {id:'INTINGPRO',name:'Intro a la Ing. de Procesos',cr:5,fac:'FING/IIQ'},
  {id:'QUIINO1',name:'Qu√≠mica Inorg√°nica (T + Lab)',cr:6,fac:'FQ'},
  {id:'FISQUI103',name:'Fisicoqu√≠mica 103',cr:12,fac:'FQ'},
  {id:'QUIORG103L',name:'Qu√≠mica Org√°nica 103 (Lab)',cr:5,fac:'FQ'},
  {id:'FENTRA',name:'Fen√≥menos de Transporte',cr:14,fac:'FING/IIQ'},
  {id:'TERAPL',name:'Termodin√°mica Aplicada',cr:9,fac:'FING/IIQ'},
  {id:'MAT09',name:'Matem√°tica 09',cr:4,fac:'FQ'},
  {id:'FISQUI104',name:'Fisicoqu√≠mica 104',cr:7,fac:'FQ'},
  {id:'FLU',name:'Fluidodin√°mica',cr:14,fac:'FING/IIQ'},
  {id:'TRACALMA1',name:'Transferencia de Calor y Masa 1',cr:14,fac:'FING/IIQ'},
  {id:'COM1',name:'Computaci√≥n 1',cr:10,fac:'FING/INCO'},
  {id:'IRREAQUI1',name:'Ing. de las Reacciones Qu√≠micas 1',cr:14,fac:'FING/IIQ'},
  {id:'TECSERIND1',name:'Tecnolog√≠a y Servicios Industriales 1',cr:10,fac:'FING/IIQ'},
  {id:'TRACALMA2',name:'Transferencia de Calor y Masa 2',cr:14,fac:'FING/IIQ'},
  {id:'ELE1',name:'Electrot√©cnica 1',cr:9,fac:'FING/IIE'},
  {id:'IRREAQUI2',name:'Ing. de las Reacciones Qu√≠micas 2',cr:10,fac:'FING/IIQ'},
  {id:'INGAMB',name:'Ingenier√≠a Ambiental',cr:6,fac:'FING/IIQ'},
  {id:'DINCONPRO',name:'Din√°mica y Control de Procesos',cr:10,fac:'FING/IIQ'},
  {id:'INTINGBIO',name:'Intro a la Ing. Bioqu√≠mica',cr:7,fac:'FING/IIQ'},
  {id:'MECAPL',name:'Mec√°nica Aplicada',cr:8,fac:'FING/DISI'},
  {id:'INGBIOTRAE',name:'Ing. Bioqu√≠mica / Trat. Efluentes',cr:null,fac:'FING/IIQ',dual:true},
  {id:'PROIND1',name:'Proyecto Industrial 1',cr:8,fac:'FING/IIQ'},
  {id:'DISPROQUI',name:'Dise√±o de Procesos Qu√≠micos',cr:6,fac:'FING/IIQ'},
  {id:'PROIND2',name:'Proyecto Industrial 2',cr:20,fac:'FING/IIQ'},
  {id:'PAS',name:'Pasant√≠a',cr:12,fac:'FING/IIQ'}
];
const O1=[
  {id:'FUNOPT',name:'Fundamentos de Optimizaci√≥n',cr:6,fac:'FING/IMERL'},
  {id:'INTCIEBIO1',name:'Intro a las Ciencias Biol√≥gicas 1',cr:5,fac:'FQ'},
  {id:'QUIANA3',name:'Qu√≠mica Anal√≠tica 3',cr:10,fac:'FQ'},
  {id:'CATADS',name:'Catalizadores y Adsorbentes',cr:9,fac:'FQ'},
  {id:'LABQCAINO',name:'Lab. de Qca Inorg√°nica',cr:5,fac:'FQ'},
  {id:'HERELE',name:'Herramientas de Electroqu√≠mica',cr:6,fac:'FQ'},
  {id:'ENOBIOFER',name:'Enolog√≠a y Biotec. Fermentaci√≥n',cr:6,fac:'FQ'},
  {id:'INSIND',name:'Instrumentaci√≥n Industrial',cr:8,fac:'FING/IIMPI'},
  {id:'PROTERBIO',name:'Proc. Termoqu√≠micos Biomasa',cr:5,fac:'FQ'},
  {id:'ENEAPLIND',name:'Energ√≠a Aplicada a la Industria',cr:8,fac:'FING/IIQ'},
  {id:'INDCAR',name:'Industria C√°rnica',cr:6,fac:'FING/IIQ'},
  {id:'QCATECGRA',name:'Qca y Tec. de Grasas y Aceites',cr:11,fac:'FQ'},
  {id:'TECPOL',name:'Tecnolog√≠a de Pol√≠meros',cr:5,fac:'FQ'},
  {id:'GESPROIND',name:'Gesti√≥n de Procesos en la Ind.',cr:8,fac:'FING/IIQ'},
  {id:'INTPRERIEL',name:'Intro Prevenci√≥n Riesgos Lab.',cr:6,fac:'FING/IIQ'},
  {id:'ADMGRAING',name:'Administraci√≥n Gral. para Ing.',cr:5,fac:'FING/DISI'},
  {id:'ELEGESLOG',name:'Elementos de Gesti√≥n Log√≠stica',cr:8,fac:'FING/DISI'},
  {id:'SISGESCAL',name:'Sist. de Gesti√≥n de Calidad Lab.',cr:10,fac:'FQ'},
  {id:'GESCAL',name:'Gesti√≥n de Calidad',cr:6,fac:'FING/DISI'},
  {id:'INGCIE',name:'Ingl√©s Cient√≠fico',cr:4,fac:'FQ'},
  {id:'TUTPAR',name:'Tutor√≠as entre Pares',cr:8,fac:'UdelaR'},
  {id:'TUTPARFQ',name:'Tutor√≠as entre Pares (FQ)',cr:4,fac:'FQ'},
  {id:'EPI',name:'Epistemolog√≠a',cr:3,fac:'FQ'},
  {id:'CIETECSOC',name:'Ciencia Tecnolog√≠a y Sociedad',cr:8,fac:'FING/DISI'},
  {id:'REPGRAIND',name:'Rep. Gr√°fica Ind. de Procesos',cr:4,fac:'FING/DISI'},
  {id:'INTEVAGESA',name:'Intro Evaluaci√≥n Gesti√≥n Amb.',cr:8,fac:'FING/IMFIA'}
];
const O2=[
  {id:'METNUM',name:'M√©todos Num√©ricos',cr:8,fac:'FING/IMERL'},
  {id:'APLALGLIN',name:'Aplicaciones del √Ålgebra Lineal',cr:9,fac:'FING/IMERL'},
  {id:'METESTREG',name:'M√©todos Estad√≠sticos Reg. y Clas.',cr:6,fac:'FING/IMERL'},
  {id:'BIO1',name:'Biocat√°lisis 1',cr:4,fac:'FQ'},
  {id:'OPTICA',name:'√ìptica',cr:10,fac:'FING/IF'},
  {id:'QUIBIOINT',name:'Qu√≠mica Bioinorg√°nica (T)',cr:6,fac:'FQ'},
  {id:'QUIBIOINP',name:'Qu√≠mica Bioinorg√°nica (P)',cr:8,fac:'FQ'},
  {id:'QUIAMB',name:'Qu√≠mica Ambiental',cr:8,fac:'FQ'},
  {id:'SINORGTRE',name:'Sint. Org. Transf. Enzim√°tica',cr:4,fac:'FQ'},
  {id:'DISPROELE',name:'Dise√±o de Proc. Electroqu√≠micos',cr:6,fac:'FING/IIQ'},
  {id:'ANAFAL',name:'An√°lisis de Fallas',cr:6,fac:'FING/IIQ'},
  {id:'CONCOR',name:'Control de la Corrosi√≥n',cr:10,fac:'FING/IIQ'},
  {id:'H2FUEENE',name:'H2: Fuente de Energ√≠a',cr:6,fac:'FQ'},
  {id:'HIDVERPRO',name:'Hidr√≥geno Verde: Prod. y Usos',cr:4,fac:'FING/IIQ'},
  {id:'BATAPLMOV',name:'Bater√≠as Aplic. Movilidad El√©ctrica',cr:4,fac:'FING/IIQ'},
  {id:'TECSERIND2',name:'Tec. y Servicios Industriales 2',cr:6,fac:'FING/IIQ'},
  {id:'FUNPROCEL',name:'Fund. de Prod. de Celulosa y Papel',cr:8,fac:'FING/IIQ'},
  {id:'ENVPOLIND',name:'Envases Polim√©ricos Ind. Alim.',cr:6,fac:'FING/IIQ'},
  {id:'TALENCCRE',name:'Taller Encarar√©: Crear',cr:8,fac:'FING'},
  {id:'BIODIEST',name:'Biodiesel (T)',cr:4,fac:'FQ'},
  {id:'MEDELEINGP',name:'Medidas El√©ctricas en Ing. Proc.',cr:4,fac:'FING/IIQ'},
  {id:'COSING',name:'Costos para Ingenier√≠a',cr:8,fac:'FING/DISI'},
  {id:'CONCAL',name:'Control de Calidad',cr:8,fac:'FING/DISI'},
  {id:'INTSISGES',name:'Intro a los Sistemas de Gesti√≥n',cr:4,fac:'FQ'},
  {id:'PRAADING',name:'Pr√°ctica de Administraci√≥n para Ing.',cr:5,fac:'FING/DISI'},
  {id:'TEORES',name:'Teor√≠a de Restricciones',cr:6,fac:'FING/DISI'},
  {id:'ECO',name:'Econom√≠a',cr:7,fac:'FING/DISI'},
  {id:'INTDISMON',name:'Int. Dise√±o y Montaje de Procesos',cr:5,fac:'FING/DISI'},
  {id:'TUTPARTEP',name:'Tutor√≠as entre Pares (TEP)',cr:4,fac:'FQ'},
  {id:'SENEINT',name:'Sensibilizaci√≥n e Intercambio',cr:2,fac:'FQ'},
  {id:'INIRINGR',name:'Iniciaci√≥n a R para Ingenier√≠a',cr:3,fac:'FING/UEFI'}
];
const ALL=[...OB,...O1,...O2];
const BI=Object.fromEntries(ALL.map(s=>[s.id,s]));
const INIC=new Set(['MAT01','MAT03','QUIGEN1','PRERIELAB','INTINGQUI']);
const PV={
  'MAT04':{'MAT01':A,'MAT03':A},'MAT05':{'MAT01':A,'MAT03':A,'MAT04':A},'MAT06':{'MAT01':A,'MAT03':A},
  'MAT07':{'MAT04':A},'MAT08':{'MAT04':A},'MAT09':{'MAT04':A},'FIS101':{'MAT01':A},'FIS102':{'FIS101':A},
  'FIS103LAB':{'FIS102':A},'ELE1':{'MAT04':A,'FIS103LAB':A,'FIS102':E},'MECAPL':{'MAT04':A,'FIS102':E,'FIS103LAB':A},
  'QUIGEN2':{'PRERIELAB':A,'QUIGEN1':A},'QUIORGT101':{'QUIGEN2':A},'QUIORG102I':{'QUIORGT101':A},
  'QUIORG103L':{'QUIANA1':A,'QUIORGT101':A},'QUIANA1':{'QUIGEN2':A},'QUIANA2':{'QUIANA1':A},'QUIINO1':{'QUIGEN2':A},
  'FISQUI101':{'MAT04':A,'QUIANA1':A},'FISQUI103':{'FISQUI101':A},'FISQUI104':{'FISQUI103':A},
  'INTINGPRO':{'MAT01':A,'FIS101':A,'QUIGEN2':A},'COM1':{'MAT01':A,'MAT03':E,'MAT04':A},
  'FENTRA':[{'MAT01':E,'MAT03':E,'MAT04':E,'MAT07':A,'MAT08':A,'FIS101':E,'QUIGEN1':E,'QUIGEN2':E,'FISQUI101':A}],
  'TERAPL':[{'MAT01':E,'MAT03':E,'MAT04':E,'MAT07':A,'MAT08':A,'FIS101':E,'QUIGEN1':E,'QUIGEN2':E,'FISQUI101':A}],
  'FLU':[{'FIS102':E,'FISQUI101':E,'QUIANA1':A,'QUIORGT101':A,'FENTRA':A,'TERAPL':A,'INTINGPRO':E}],
  'TRACALMA1':[{'FIS102':E,'FISQUI101':E,'QUIANA1':A,'QUIINO1':A,'QUIORGT101':A,'FENTRA':A,'TERAPL':A,'INTINGPRO':E}],
  'IRREAQUI1':[{'FISQUI103':E,'TERAPL':E,'MAT05':E,'FENTRA':E,'FLU':A,'MAT07':E,'MAT08':E,'QUIANA1':E,'QUIANA2':E}],
  'TRACALMA2':[{'QUIANA2':E,'QUIANA1':E,'FISQUI103':E,'TRACALMA1':E,'MAT05':E,'FENTRA':E,'MAT07':E,'MAT08':E}],
  'TECSERIND1':[{'TRACALMA1':A,'QUIANA1':E,'QUIANA2':E,'TERAPL':E,'FENTRA':E,'FISQUI104':A,'FISQUI103':E,'FLU':A,'QUIINO1':A}],
  'IRREAQUI2':{'IRREAQUI1':A},'INGAMB':{'IRREAQUI1':A,'FENTRA':E,'FLU':A},
  'DINCONPRO':[{'TRACALMA1':E,'COM1':A,'IRREAQUI1':A},{'TRACALMA1':E,'MAT06':A,'IRREAQUI1':A}],
  'INTINGBIO':{'QUIORG102I':E,'QUIORGT101':A,'FISQUI103':A},
  'INGBIOTRAE':[{'INTINGBIO':A,'IRREAQUI1':A,'TRACALMA2':A},{'INTINGBIO':A,'IRREAQUI1':A}],
  'PROIND1':[{'TRACALMA1':E,'TRACALMA2':E,'TECSERIND1':E,'FLU':E,'MECAPL':A,'INTINGBIO':A,'IRREAQUI2':A,'ELE1':A,'IRREAQUI1':E}],
  'DISPROQUI':{'IRREAQUI1':A,'TRACALMA1':A},'PROIND2':{'PROIND1':A},
  'PAS':{'TECSERIND1':A,'IRREAQUI1':A,'TRACALMA1':A,'TRACALMA2':A,'FLU':A,'TERAPL':A,'FENTRA':A,'IRREAQUI2':A}
};
const BO={bio:{name:'Ing. Bioqu√≠mica',cr:10},trat:{name:'Trat. Efluentes',cr:9}};
const AM={'MAT01':'Matem√°tica','MAT03':'Matem√°tica','MAT04':'Matem√°tica','MAT05':'Matem√°tica','MAT06':'Matem√°tica','MAT07':'Matem√°tica','MAT08':'Matem√°tica','MAT09':'Matem√°tica','FUNOPT':'Matem√°tica','METNUM':'Matem√°tica','APLALGLIN':'Matem√°tica','METESTREG':'Matem√°tica','INIRINGR':'Matem√°tica','FIS101':'F√≠sica','FIS102':'F√≠sica','FIS103LAB':'F√≠sica','OPTICA':'F√≠sica','QUIGEN1':'Qu√≠mica','PRERIELAB':'Qu√≠mica','QUIGEN2':'Qu√≠mica','QUIORGT101':'Qu√≠mica','QUIANA1':'Qu√≠mica','QUIANA2':'Qu√≠mica','QUIORG102I':'Qu√≠mica','QUIINO1':'Qu√≠mica','QUIORG103L':'Qu√≠mica','FISQUI101':'Qu√≠mica','FISQUI103':'Qu√≠mica','FISQUI104':'Qu√≠mica','QUIANA3':'Qu√≠mica','CATADS':'Qu√≠mica','LABQCAINO':'Qu√≠mica','HERELE':'Qu√≠mica','ENOBIOFER':'Qu√≠mica','PROTERBIO':'Qu√≠mica','QCATECGRA':'Qu√≠mica','TECPOL':'Qu√≠mica','QUIBIOINT':'Qu√≠mica','QUIBIOINP':'Qu√≠mica','QUIAMB':'Qu√≠mica','SINORGTRE':'Qu√≠mica','H2FUEENE':'Qu√≠mica','BIODIEST':'Qu√≠mica','INTINGBIO':'Biolog√≠a','INTCIEBIO1':'Biolog√≠a','BIO1':'Biolog√≠a','INTINGQUI':'Troncales','INTINGPRO':'Troncales','FENTRA':'Troncales','TERAPL':'Troncales','FLU':'Troncales','TRACALMA1':'Troncales','IRREAQUI1':'Troncales','TRACALMA2':'Troncales','PROIND1':'Troncales','PROIND2':'Troncales','PAS':'Troncales','TECSERIND1':'Avanzadas','IRREAQUI2':'Avanzadas','INGAMB':'Avanzadas','DINCONPRO':'Avanzadas','INGBIOTRAE':'Avanzadas','DISPROQUI':'Avanzadas','ENEAPLIND':'Avanzadas','INDCAR':'Avanzadas','GESPROIND':'Avanzadas','DISPROELE':'Avanzadas','ANAFAL':'Avanzadas','CONCOR':'Avanzadas','HIDVERPRO':'Avanzadas','BATAPLMOV':'Avanzadas','TECSERIND2':'Avanzadas','FUNPROCEL':'Avanzadas','ENVPOLIND':'Avanzadas','ELE1':'T√©cnicas','MECAPL':'T√©cnicas','COM1':'T√©cnicas','INSIND':'T√©cnicas','MEDELEINGP':'T√©cnicas','REPGRAIND':'T√©cnicas','INTDISMON':'T√©cnicas','INTPRERIEL':'T√©cnicas','ADMGRAING':'T√©cnicas','ELEGESLOG':'T√©cnicas','SISGESCAL':'T√©cnicas','GESCAL':'T√©cnicas','COSING':'T√©cnicas','CONCAL':'T√©cnicas','INTSISGES':'T√©cnicas','PRAADING':'T√©cnicas','TEORES':'T√©cnicas','ECO':'T√©cnicas','INGCIE':'Complementarias','TUTPAR':'Complementarias','TUTPARFQ':'Complementarias','EPI':'Complementarias','CIETECSOC':'Complementarias','INTEVAGESA':'Complementarias','TALENCCRE':'Complementarias','TUTPARTEP':'Complementarias','SENEINT':'Complementarias'};
const AMIN={'Matem√°tica':70,'F√≠sica':30,'Qu√≠mica':80,'Biolog√≠a':5,'Troncales':75,'Avanzadas':80,'T√©cnicas':30,'Complementarias':5};
const AC={'Matem√°tica':'#4e9af1','F√≠sica':'#e0a040','Qu√≠mica':'#2a9d8f','Biolog√≠a':'#57cc99','Troncales':'#e05252','Avanzadas':'#c77dff','T√©cnicas':'#aaaaaa','Complementarias':'#f4a261'};
const FR={exonerada:['¬°Exonerada! Una menos para el t√≠tulo üéì','¬°Crack! Otro cr√©dito conquistado ‚öóÔ∏è','¬°Exonerada! Merec√©s un caf√© ‚òï','¬°Bien jugado! El t√≠tulo se acerca üèÜ'],aprobada:['¬°Aprobada! No era f√°cil, pero ac√° est√°s üëä','Aprobada. El esfuerzo vali√≥ üíØ','¬°Pasaste! A buscar la exoneraci√≥n üéØ'],cursando:['¬°En carrera! A darle duro üìö','¬°Dale! Esta tambi√©n cae üí•','Cursando... el desaf√≠o empieza üß™']};
const TKF=['üíß El agua existe en los 3 estados de la materia.',' ‚öóÔ∏è El polietileno fue descubierto accidentalmente en 1933.',' ‚ö° El proceso Haber-Bosch alimenta a casi la mitad de la humanidad.',' üè≠ Una refiner√≠a puede procesar hasta 800.000 barriles por d√≠a.',' "La ciencia no conoce fronteras." ‚Äî Louis Pasteur',' "Nada en la vida debe ser temido, solo comprendido." ‚Äî Marie Curie',' ‚òï El caf√©: balance energ√©tico entre entalp√≠a y entrop√≠a personal.',' üèÜ Proyecto Industrial 2 es el jefe final de la carrera. ¬°Vos pod√©s!',' üéì Ing. Qu√≠mica: porque la medicina era muy f√°cil.'];

let est={},bOp=null,aF=new Set(),qr='',pB=null,cel=false;
const SK='qp_v2';
function sv(){try{localStorage.setItem(SK,JSON.stringify({est,bOp,cel}))}catch(e){}}
function ld(){try{const d=JSON.parse(localStorage.getItem(SK));if(d){est=d.est||{};bOp=d.bOp||null;cel=d.cel||false}}catch(e){}}
function gs(id){return est[id]??S.B}
function cp(id){
  if(INIC.has(id))return S.H;
  const p=PV[id];if(!p)return S.H;
  const gs2=Array.isArray(p)?p:[p];
  for(const g of gs2){let ok=true;for(const[pid,ms]of Object.entries(g))if(gs(pid)<ms){ok=false;break}if(ok)return S.H;}
  return S.B;
}
function rc(){for(const s of ALL){const c=gs(s.id);if(c===S.B||c===S.H){const sh=cp(s.id);if(sh!==c)est[s.id]=sh;}}}
function gcr(id,st){if(st<S.A)return 0;if(id==='INGBIOTRAE')return bOp?BO[bOp].cr:0;return BI[id]?.cr??0;}
function cst(){let t=0,ex=0,ap=0,cu=0,ha=0;for(const s of ALL){const st=gs(s.id);t+=gcr(s.id,st);if(st===S.E)ex++;else if(st===S.A)ap++;else if(st===S.C)cu++;else if(st===S.H)ha++;}return{t,ex,ap,cu,ha};}
function acr(){const r={};for(const s of ALL){const st=gs(s.id);const c=gcr(s.id,st);const ar=AM[s.id];if(ar&&c>0)r[ar]=(r[ar]||0)+c;}return r;}
function cy(id){const c=gs(id),nx=(c+1)%5;if(id==='INGBIOTRAE'&&nx>=S.C&&!bOp){pB=nx;openBio();return;}setSt(id,nx);}
function setSt(id,ns){const old=gs(id);est[id]=ns;rc();rAll();upCr();if(ns>=S.C&&ns!==old)toast(id,ns);chkCel();sv();}
const CE={};
function mkCard(s){const d=document.createElement('div');d.className='card';d.dataset.id=s.id;d.innerHTML=`<span class="ci"></span><div class="cn">${s.name}</div><div class="cm2"><span class="cc"></span><span class="cbg"></span></div><div class="cf">${s.fac}</div>`;d.onclick=()=>cy(s.id);d.onmouseenter=e=>showPP(s.id,e);d.onmouseleave=()=>document.getElementById('pp').classList.remove('v');if(!CE[s.id])CE[s.id]=[];CE[s.id].push(d);return d;}
function upCard(el,id){const st=gs(id);el.dataset.st=SN[st];el.querySelector('.ci').textContent=SI[st];el.querySelector('.cbg').textContent=SL[st];let cr;if(id==='INGBIOTRAE'&&bOp)cr=BO[bOp].cr+' cr';else cr=BI[id]?.cr!=null?BI[id].cr+' cr':'‚Äî';el.querySelector('.cc').textContent=cr;}
function rAll(){const q=qr.toLowerCase();for(const[id,els]of Object.entries(CE)){const sn=SN[gs(id)];const nm=BI[id]?.name?.toLowerCase()||'';const sh=(!q||nm.includes(q))&&(aF.size===0||aF.has(sn));for(const el of els){upCard(el,id);el.classList.toggle('hd',!sh);}}}
function bAB(cid,subs){const c=document.getElementById(cid);if(!c)return;c.innerHTML='';const ac=acr();for(const[ar,mn]of Object.entries(AMIN)){const hs=subs.some(s=>AM[s.id]===ar);if(!hs)continue;const ea=ac[ar]||0;const pt=Math.min(100,Math.round((ea/mn)*100));const d=document.createElement('div');d.dataset.area=ar;d.innerHTML=`<div class="abh"><span class="abn" style="color:${AC[ar]}">${ar}</span><span class="abc">${ea}/${mn}</span></div><div class="abt"><div class="abf" style="background:${AC[ar]};width:${pt}%"></div></div>`;c.appendChild(d);}}
function updABs(){const ac=acr();document.querySelectorAll('[data-area]').forEach(el=>{const ar=el.dataset.area;const mn=AMIN[ar];const ea=ac[ar]||0;const pt=Math.min(100,Math.round((ea/mn)*100));const nc=el.querySelector('.abc');const fi=el.querySelector('.abf');if(nc)nc.textContent=`${ea}/${mn}`;if(fi)fi.style.width=pt+'%';});}
function upCr(){const{t,ex,ap,cu,ha}=cst();document.getElementById('cn').textContent=t;document.getElementById('pbi').style.width=Math.min(100,(t/META)*100)+'%';document.getElementById('se').textContent=ex;document.getElementById('sa').textContent=ap;document.getElementById('sc').textContent=cu;document.getElementById('sh').textContent=ha;updABs();}
let blt={};
function bldGrds(){
  if(!blt.t){OB.forEach(s=>document.getElementById('g-to').appendChild(mkCard(s)));O1.forEach(s=>document.getElementById('g-t1').appendChild(mkCard(s)));O2.forEach(s=>document.getElementById('g-t2').appendChild(mkCard(s)));bAB('ab-todas',ALL);blt.t=true;}
  if(!blt.p){OB.forEach(s=>document.getElementById('g-pr').appendChild(mkCard(s)));bAB('ab-princ',OB);blt.p=true;}
  if(!blt.o1){O1.forEach(s=>document.getElementById('g-o1').appendChild(mkCard(s)));blt.o1=true;}
  if(!blt.o2){O2.forEach(s=>document.getElementById('g-o2').appendChild(mkCard(s)));blt.o2=true;}
}
function switchTab(t){document.querySelectorAll('.tp').forEach(p=>p.classList.remove('on'));document.getElementById('tp-'+t).classList.add('on');document.querySelectorAll('.nb').forEach(b=>b.classList.toggle('on',b.dataset.tab===t));rAll();cSB();}
function toggleF(s){if(aF.has(s))aF.delete(s);else aF.add(s);document.querySelectorAll('.ch').forEach(c=>c.classList.toggle('on',aF.has(c.dataset.s)));rAll();}
function applyS(){qr=document.getElementById('sq').value;rAll();}
function showPP(id,e){const p=PV[id];if(!p)return;const gs2=Array.isArray(p)?p:[p];const g=gs2[0];let h=`<h3>Previas requeridas</h3>`;for(const[pid,ms]of Object.entries(g)){const pn=BI[pid]?.name||pid;const met=gs(pid)>=ms;h+=`<div class="pi"><span class="pn">${pn}</span><span class="pr ${met?'ok':SN[ms]}">${met?'‚úì':SL[ms]}</span></div>`;}if(gs2.length>1)h+=`<div style="font-size:.56rem;color:var(--tm);margin-top:5px;font-family:'Space Mono',monospace">+${gs2.length-1} grupo(s) alternativo(s)</div>`;const pp=document.getElementById('pp');pp.innerHTML=h;pp.style.left=Math.min(e.clientX+12,window.innerWidth-305)+'px';pp.style.top=Math.min(e.clientY-10,window.innerHeight-210)+'px';pp.classList.add('v');}
function toast(id,st){const sn=SN[st];const pool=FR[sn];if(!pool)return;const msg=pool[Math.floor(Math.random()*pool.length)];const d=document.createElement('div');d.className=`toast ${sn}`;d.textContent=msg;document.getElementById('tc').appendChild(d);setTimeout(()=>{d.style.opacity='0';d.style.transform='translateX(18px)';d.style.transition='.3s';setTimeout(()=>d.remove(),300);},2800);}
function openReset(){document.getElementById('ov-r').classList.add('op');}
function closeReset(){document.getElementById('ov-r').classList.remove('op');}
function doReset(){est={};bOp=null;cel=false;rc();bldGrds();rAll();upCr();sv();closeReset();}
function openBio(){document.getElementById('ov-b').classList.add('op');}
function closeBio(){document.getElementById('ov-b').classList.remove('op');pB=null;}
function confirmBio(){const s=document.querySelector('input[name="bio"]:checked');if(!s)return;bOp=s.value;closeBio();if(pB!==null){setSt('INGBIOTRAE',pB);pB=null;}}
function chkCel(){if(cel)return;const{t}=cst();if(t>=META){cel=true;sv();setTimeout(()=>document.getElementById('cel').classList.add('on'),600);}}
function toggleSB(){document.getElementById('sb').classList.toggle('op');document.getElementById('sbov').classList.toggle('op');}
function cSB(){document.getElementById('sb').classList.remove('op');document.getElementById('sbov').classList.remove('op');}
document.getElementById('sbov').onclick=cSB;
document.getElementById('tkt').textContent=TKF.join('   ¬∑   ');
function init(){ld();for(const id of INIC)if(!est[id])est[id]=S.H;rc();bldGrds();rAll();upCr();if(bOp){const r=document.querySelector(`input[name="bio"][value="${bOp}"]`);if(r)r.checked=true;}}
init();
</script>
</body>
</html>
